(function(a){if(typeof define==="function"&&define.amd){define(["jquery","moment"],a)}else{if(!jQuery){throw"bootstrap-datetimepicker requires jQuery to be loaded first"}else{if(!moment){throw"bootstrap-datetimepicker requires moment.js to be loaded first"}else{a(jQuery,moment)}}}}(function(d,e){if(typeof e==="undefined"){alert("momentjs is requried");throw new Error("momentjs is required")}var c=0,a=e,b=function(p,r){var B={pickDate:true,pickTime:true,useMinutes:true,useSeconds:false,useCurrent:true,minuteStepping:1,minDate:new a({y:1900}),maxDate:new a().add(100,"y"),showToday:true,collapse:true,language:"en",defaultDate:"",disabledDates:false,enabledDates:false,icons:{},useStrict:false,direction:"auto",sideBySide:false,daysOfWeekDisabled:false},P={time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},m=this,L=function(){var W=false,V,X,T;m.options=d.extend({},B,r);m.options.icons=d.extend({},P,m.options.icons);m.element=d(p);f();if(!(m.options.pickTime||m.options.pickDate)){throw new Error("Must choose at least one picker")}m.id=c++;a.lang(m.options.language);m.date=a();m.unset=false;m.isInput=m.element.is("input");m.component=false;if(m.element.hasClass("input-group")){if(m.element.find(".datepickerbutton").size()==0){m.component=m.element.find("[class^='input-group-']")}else{m.component=m.element.find(".datepickerbutton")}}m.format=m.options.format;m.use24hours=m.options.use24hours||false;T=a()._lang._longDateFormat;if(!m.format){m.format=(m.options.pickDate?T.L:"");if(m.options.pickDate&&m.options.pickTime){m.format+=" "}m.format+=(m.options.pickTime?T.LT:"");if(m.options.useSeconds){if(~T.LT.indexOf(" A")){m.format=m.format.split(" A")[0]+":ss A"}else{m.format+=":ss"}}}if(m.use24hours&&m.format.indexOf(" A")){m.format=m.format.split(" A")[0]}if(m.component){W=m.component.find("span")}if(m.options.pickTime){if(W){W.addClass(m.options.icons.time)}}if(m.options.pickDate){if(W){W.removeClass(m.options.icons.time);W.addClass(m.options.icons.date)}}m.widget=d(S()).appendTo("body");if(m.options.useSeconds&&!m.use24hours){m.widget.width(300)}m.minViewMode=m.options.minViewMode||0;if(typeof m.minViewMode==="string"){switch(m.minViewMode){case"months":m.minViewMode=1;break;case"years":m.minViewMode=2;break;default:m.minViewMode=0;break}}m.viewMode=m.options.viewMode||0;if(typeof m.viewMode==="string"){switch(m.viewMode){case"months":m.viewMode=1;break;case"years":m.viewMode=2;break;default:m.viewMode=0;break}}m.options.disabledDates=D(m.options.disabledDates);m.options.enabledDates=D(m.options.enabledDates);m.startViewMode=m.viewMode;m.setMinDate(m.options.minDate);m.setMaxDate(m.options.maxDate);K();v();w();u();h();A();g();M();if(m.options.defaultDate!==""&&y().val()==""){m.setValue(m.options.defaultDate)}if(m.options.minuteStepping!==1){var U=m.options.minuteStepping;m.date.minutes((Math.round(m.date.minutes()/U)*U)%60).seconds(0)}},y=function(){if(m.isInput){return m.element}else{return dateStr=m.element.find("input")}},f=function(){var T;if(m.element.is("input")){T=m.element.data()}else{T=m.element.data()}if(T.dateFormat!==undefined){m.options.format=T.dateFormat}if(T.datePickdate!==undefined){m.options.pickDate=T.datePickdate}if(T.datePicktime!==undefined){m.options.pickTime=T.datePicktime}if(T.dateUseminutes!==undefined){m.options.useMinutes=T.dateUseminutes}if(T.dateUseseconds!==undefined){m.options.useSeconds=T.dateUseseconds}if(T.dateUsecurrent!==undefined){m.options.useCurrent=T.dateUsecurrent}if(T.dateMinutestepping!==undefined){m.options.minuteStepping=T.dateMinutestepping}if(T.dateMindate!==undefined){m.options.minDate=T.dateMindate}if(T.dateMaxdate!==undefined){m.options.maxDate=T.dateMaxdate}if(T.dateShowtoday!==undefined){m.options.showToday=T.dateShowtoday}if(T.dateCollapse!==undefined){m.options.collapse=T.dateCollapse}if(T.dateLanguage!==undefined){m.options.language=T.dateLanguage}if(T.dateDefaultdate!==undefined){m.options.defaultDate=T.dateDefaultdate}if(T.dateDisableddates!==undefined){m.options.disabledDates=T.dateDisableddates}if(T.dateEnableddates!==undefined){m.options.enabledDates=T.dateEnableddates}if(T.dateIcons!==undefined){m.options.icons=T.dateIcons}if(T.dateUsestrict!==undefined){m.options.useStrict=T.dateUsestrict}if(T.dateDirection!==undefined){m.options.direction=T.dateDirection}if(T.dateSidebyside!==undefined){m.options.sideBySide=T.dateSidebyside}if(T.dateUse24hours!==undefined){m.options.use24hours=T.dateUse24hours}},k=function(){var T="absolute",W=m.component?m.component.offset():m.element.offset(),V=d(window);m.width=m.component?m.component.outerWidth():m.element.outerWidth();W.top=W.top+m.element.outerHeight();var U;if(m.options.direction==="up"){U="top"}else{if(m.options.direction==="bottom"){U="bottom"}else{if(m.options.direction==="auto"){if(W.top+m.widget.height()>V.height()+V.scrollTop()&&m.widget.height()+m.element.outerHeight()<W.top){U="top"}else{U="bottom"}}}}if(U==="top"){W.top-=m.widget.height()+m.element.outerHeight()+15;m.widget.addClass("top").removeClass("bottom")}else{W.top+=1;m.widget.addClass("bottom").removeClass("top")}if(m.options.width!==undefined){m.widget.width(m.options.width)}if(m.options.orientation==="left"){m.widget.addClass("left-oriented");W.left=W.left-m.widget.width()+20}if(E()){T="fixed";W.top-=V.scrollTop();W.left-=V.scrollLeft()}if(V.width()<W.left+m.widget.outerWidth()){W.right=V.width()-W.left-m.width;W.left="auto";m.widget.addClass("pull-right")}else{W.right="auto";m.widget.removeClass("pull-right")}m.widget.css({position:T,top:W.top,left:W.left,right:W.right})},q=function(U,T){if(a(m.date).isSame(a(U))){return}m.element.trigger({type:"dp.change",date:a(m.date),oldDate:a(U)});if(T!=="change"){m.element.change()}},F=function(T){m.element.trigger({type:"dp.error",date:a(T)})},A=function(T){a.lang(m.options.language);var U=T;if(!U){U=y().val();if(U){m.date=a(U,m.format,m.options.useStrict)}if(!m.date){m.date=a()}}m.viewDate=a(m.date).startOf("month");o();l()},K=function(){a.lang(m.options.language);var V=d("<tr>"),T=a.weekdaysMin(),U;if(a()._lang._week.dow==0){for(U=0;U<7;U++){V.append('<th class="dow">'+T[U]+"</th>")}}else{for(U=1;U<8;U++){if(U==7){V.append('<th class="dow">'+T[0]+"</th>")}else{V.append('<th class="dow">'+T[U]+"</th>")}}}m.widget.find(".datepicker-days thead").append(V)},v=function(){a.lang(m.options.language);var U="",T=0,V=a.monthsShort();while(T<12){U+='<span class="month">'+V[T++]+"</span>"}m.widget.find(".datepicker-months td").append(U)},o=function(){a.lang(m.options.language);var ae=m.viewDate.year(),ac=m.viewDate.month(),ad=m.options.minDate.year(),ag=m.options.minDate.month(),ah=m.options.maxDate.year(),aa=m.options.maxDate.month(),W,Z,Y=[],ai,V,X,af,U,ab,T=a.months();m.widget.find(".datepicker-days").find(".disabled").removeClass("disabled");m.widget.find(".datepicker-months").find(".disabled").removeClass("disabled");m.widget.find(".datepicker-years").find(".disabled").removeClass("disabled");m.widget.find(".datepicker-days th:eq(1)").text(T[ac]+" "+ae);W=a(m.viewDate).subtract("months",1);af=W.daysInMonth();W.date(af).startOf("week");if((ae==ad&&ac<=ag)||ae<ad){m.widget.find(".datepicker-days th:eq(0)").addClass("disabled")}if((ae==ah&&ac>=aa)||ae>ah){m.widget.find(".datepicker-days th:eq(2)").addClass("disabled")}Z=a(W).add(42,"d");while(W.isBefore(Z)){if(W.weekday()===a().startOf("week").weekday()){ai=d("<tr>");Y.push(ai)}V="";if(W.year()<ae||(W.year()==ae&&W.month()<ac)){V+=" old"}else{if(W.year()>ae||(W.year()==ae&&W.month()>ac)){V+=" new"}}if(W.isSame(a({y:m.date.year(),M:m.date.month(),d:m.date.date()}))){V+=" active"}if(R(W)||!t(W)){V+=" disabled"}if(m.options.showToday===true){if(W.isSame(a(),"day")){V+=" today"}}if(m.options.daysOfWeekDisabled){for(X in m.options.daysOfWeekDisabled){if(W.day()==m.options.daysOfWeekDisabled[X]){V+=" disabled";break}}}ai.append('<td class="day'+V+'">'+W.date()+"</td>");W.add(1,"d")}m.widget.find(".datepicker-days tbody").empty().append(Y);ab=m.date.year(),T=m.widget.find(".datepicker-months").find("th:eq(1)").text(ae).end().find("span").removeClass("active");if(ab===ae){T.eq(m.date.month()).addClass("active")}if(ab-1<ad){m.widget.find(".datepicker-months th:eq(0)").addClass("disabled")}if(ab+1>ah){m.widget.find(".datepicker-months th:eq(2)").addClass("disabled")}for(X=0;X<12;X++){if((ae==ad&&ag>X)||(ae<ad)){d(T[X]).addClass("disabled")}else{if((ae==ah&&aa<X)||(ae>ah)){d(T[X]).addClass("disabled")}}}Y="";ae=parseInt(ae/10,10)*10;U=m.widget.find(".datepicker-years").find("th:eq(1)").text(ae+"-"+(ae+9)).end().find("td");m.widget.find(".datepicker-years").find("th").removeClass("disabled");if(ad>ae){m.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled")}if(ah<ae+9){m.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled")}ae-=1;for(X=-1;X<11;X++){Y+='<span class="year'+(X===-1||X===10?" old":"")+(ab===ae?" active":"")+((ae<ad||ae>ah)?" disabled":"")+'">'+ae+"</span>";ae+=1}U.html(Y)},w=function(){a.lang(m.options.language);var W=m.widget.find(".timepicker .timepicker-hours table"),V="",X,U,T;W.parent().hide();if(m.use24hours){X=0;for(U=0;U<6;U+=1){V+="<tr>";for(T=0;T<4;T+=1){V+='<td class="hour">'+Q(X.toString())+"</td>";X++}V+="</tr>"}}else{X=1;for(U=0;U<3;U+=1){V+="<tr>";for(T=0;T<4;T+=1){V+='<td class="hour">'+Q(X.toString())+"</td>";X++}V+="</tr>"}}W.html(V)},u=function(){var X=m.widget.find(".timepicker .timepicker-minutes table"),V="",Y=0,U,T,W=m.options.minuteStepping;X.parent().hide();if(W==1){W=5}for(U=0;U<Math.ceil(60/W/4);U++){V+="<tr>";for(T=0;T<4;T+=1){if(Y<60){V+='<td class="minute">'+Q(Y.toString())+"</td>";Y+=W}else{V+="<td></td>"}}V+="</tr>"}X.html(V)},h=function(){var W=m.widget.find(".timepicker .timepicker-seconds table"),V="",X=0,U,T;W.parent().hide();for(U=0;U<3;U++){V+="<tr>";for(T=0;T<4;T+=1){V+='<td class="second">'+Q(X.toString())+"</td>";X+=5}V+="</tr>"}W.html(V)},l=function(){if(!m.date){return}var V=m.widget.find(".timepicker span[data-time-component]"),T=m.date.hours(),U="AM";if(!m.use24hours){if(T>=12){U="PM"}if(T===0){T=12}else{if(T!=12){T=T%12}}m.widget.find(".timepicker [data-action=togglePeriod]").text(U)}V.filter("[data-time-component=hours]").text(Q(T));V.filter("[data-time-component=minutes]").text(Q(m.date.minutes()));V.filter("[data-time-component=seconds]").text(Q(m.date.second()))},C=function(Z){Z.stopPropagation();Z.preventDefault();m.unset=false;var Y=d(Z.target).closest("span, td, th"),X,V,W,T,U=a(m.date);if(Y.length===1){if(!Y.is(".disabled")){switch(Y[0].nodeName.toLowerCase()){case"th":switch(Y[0].className){case"switch":g(1);break;case"prev":case"next":W=x.modes[m.viewMode].navStep;if(Y[0].className==="prev"){W=W*-1}m.viewDate.add(W,x.modes[m.viewMode].navFnc);o();break}break;case"span":if(Y.is(".month")){X=Y.parent().find("span").index(Y);m.viewDate.month(X)}else{V=parseInt(Y.text(),10)||0;m.viewDate.year(V)}if(m.viewMode===m.minViewMode){m.date=a({y:m.viewDate.year(),M:m.viewDate.month(),d:m.viewDate.date(),h:m.date.hours(),m:m.date.minutes(),s:m.date.seconds()});q(U,Z.type);s()}g(-1);o();break;case"td":if(Y.is(".day")){T=parseInt(Y.text(),10)||1;X=m.viewDate.month();V=m.viewDate.year();if(Y.is(".old")){if(X===0){X=11;V-=1}else{X-=1}}else{if(Y.is(".new")){if(X==11){X=0;V+=1}else{X+=1}}}m.date=a({y:V,M:X,d:T,h:m.date.hours(),m:m.date.minutes(),s:m.date.seconds()});m.viewDate=a({y:V,M:X,d:Math.min(28,T)});o();s();q(U,Z.type)}break}}}},G={incrementHours:function(){n("add","hours",1)},incrementMinutes:function(){n("add","minutes",m.options.minuteStepping)},incrementSeconds:function(){n("add","seconds",1)},decrementHours:function(){n("subtract","hours",1)},decrementMinutes:function(){n("subtract","minutes",m.options.minuteStepping)},decrementSeconds:function(){n("subtract","seconds",1)},togglePeriod:function(){var T=m.date.hours();if(T>=12){T-=12}else{T+=12}m.date.hours(T)},showPicker:function(){m.widget.find(".timepicker > div:not(.timepicker-picker)").hide();m.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){m.widget.find(".timepicker .timepicker-picker").hide();m.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){m.widget.find(".timepicker .timepicker-picker").hide();m.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){m.widget.find(".timepicker .timepicker-picker").hide();m.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(U){var V=m.widget.find(".timepicker [data-action=togglePeriod]").text(),T=parseInt(d(U.target).text(),10);if(V=="PM"){T+=12}m.date.hours(T);G.showPicker.call(m)},selectMinute:function(T){m.date.minutes(parseInt(d(T.target).text(),10));G.showPicker.call(m)},selectSecond:function(T){m.date.seconds(parseInt(d(T.target).text(),10));G.showPicker.call(m)}},z=function(V){var T=a(m.date),U=d(V.currentTarget).data("action"),W=G[U].apply(m,arguments);N(V);if(!m.date){m.date=a({y:1970})}s();l();q(T,V.type);return W},N=function(T){T.stopPropagation();T.preventDefault()},j=function(W){a.lang(m.options.language);var U=d(W.target),V=a(m.date),T=a(U.val(),m.format,m.options.useStrict);if(T.isValid()&&!R(T)&&t(T)){A();m.setValue(T);q(V,W.type);s()}else{m.viewDate=V;q(V,W.type);F(T);m.unset=true}},g=function(T){if(T){m.viewMode=Math.max(m.minViewMode,Math.min(2,m.viewMode+T))}var U=x.modes[m.viewMode].clsName;m.widget.find(".datepicker > div").hide().filter(".datepicker-"+x.modes[m.viewMode].clsName).show()},M=function(){var X,W,U,T,V;m.widget.on("click",".datepicker *",d.proxy(C,this));m.widget.on("click","[data-action]",d.proxy(z,this));m.widget.on("mousedown",d.proxy(N,this));if(m.options.pickDate&&m.options.pickTime){m.widget.on("click.togglePicker",".accordion-toggle",function(Y){Y.stopPropagation();X=d(this);W=X.closest("ul");U=W.find(".in");T=W.find(".collapse:not(.in)");if(U&&U.length){V=U.data("collapse");if(V&&V.date-transitioning){return}U.collapse("hide");T.collapse("show");X.find("span").toggleClass(m.options.icons.time+" "+m.options.icons.date);m.element.find(".input-group-addon span").toggleClass(m.options.icons.time+" "+m.options.icons.date)}})}if(m.isInput){m.element.on({focus:d.proxy(m.show,this),change:d.proxy(j,this),blur:d.proxy(m.hide,this)})}else{m.element.on({change:d.proxy(j,this)},"input");if(m.component){m.component.on("click",d.proxy(m.show,this))}else{m.element.on("click",d.proxy(m.show,this))}}},O=function(){d(window).on("resize.datetimepicker"+m.id,d.proxy(k,this));if(!m.isInput){d(document).on("mousedown.datetimepicker"+m.id,d.proxy(m.hide,this))}},I=function(){m.widget.off("click",".datepicker *",m.click);m.widget.off("click","[data-action]");m.widget.off("mousedown",m.stopEvent);if(m.options.pickDate&&m.options.pickTime){m.widget.off("click.togglePicker")}if(m.isInput){m.element.off({focus:m.show,change:m.change})}else{m.element.off({change:m.change},"input");if(m.component){m.component.off("click",m.show)}else{m.element.off("click",m.show)}}},H=function(){d(window).off("resize.datetimepicker"+m.id);if(!m.isInput){d(document).off("mousedown.datetimepicker"+m.id)}},E=function(){if(m.element){var U=m.element.parents(),T=false,V;for(V=0;V<U.length;V++){if(d(U[V]).css("position")=="fixed"){T=true;break}}return T}else{return false}},s=function(){a.lang(m.options.language);var U="",T;if(!m.unset){U=a(m.date).format(m.format)}y().val(U);m.element.data("date",U);if(!m.options.pickTime){m.hide()}},n=function(W,V,U){a.lang(m.options.language);var T;if(W=="add"){T=a(m.date);if(T.hours()==23){T.add(U,V)}T.add(U,V)}else{T=a(m.date).subtract(U,V)}if(R(a(T.subtract(U,V)))||R(T)){F(T.format(m.format));return}if(W=="add"){m.date.add(U,V)}else{m.date.subtract(U,V)}m.unset=false},R=function(T){a.lang(m.options.language);if(T.isAfter(m.options.maxDate)||T.isBefore(m.options.minDate)){return true}if(m.options.disabledDates===false){return false}return m.options.disabledDates[a(T).format("YYYY-MM-DD")]===true},t=function(T){a.lang(m.options.language);if(m.options.enabledDates===false){return true}return m.options.enabledDates[a(T).format("YYYY-MM-DD")]===true},D=function(U){var V={};var T=0;for(i=0;i<U.length;i++){dDate=a(U[i]);if(dDate.isValid()){V[dDate.format("YYYY-MM-DD")]=true;T++}}if(T>0){return V}return false},Q=function(T){T=T.toString();if(T.length>=2){return T}else{return"0"+T}},S=function(){if(m.options.pickDate&&m.options.pickTime){var T="";T='<div class="bootstrap-datetimepicker-widget'+(m.options.sideBySide?" timepicker-sbs":"")+' dropdown-menu" style="z-index:9999 !important;">';if(m.options.sideBySide){T+='<div class="row"><div class="col-sm-6 datepicker">'+x.template+'</div><div class="col-sm-6 timepicker">'+J.getTemplate()+"</div></div>"}else{T+='<ul class="list-unstyled"><li'+(m.options.collapse?' class="collapse in"':"")+'><div class="datepicker">'+x.template+'</div></li><li class="picker-switch accordion-toggle"><a class="btn" style="width:100%"><span class="'+m.options.icons.time+'"></span></a></li><li'+(m.options.collapse?' class="collapse"':"")+'><div class="timepicker">'+J.getTemplate()+"</div></li></ul>"}T+="</div>";return T}else{if(m.options.pickTime){var T='<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+J.getTemplate()+"</div></div>";console.log(T);return T}else{return('<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+x.template+"</div></div>")}}},x={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}],headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'},J={hourTemplate:'<span data-action="showHours"   data-time-component="hours"   class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds"  data-time-component="seconds" class="timepicker-second"></span>'};x.template='<div class="datepicker-days"><table class="table-condensed">'+x.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+x.headTemplate+x.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+x.headTemplate+x.contTemplate+"</table></div>";J.getTemplate=function(){return('<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><span class="'+m.options.icons.up+'"></span></a></td><td class="separator"></td><td>'+(m.options.useMinutes?'<a href="#" class="btn" data-action="incrementMinutes"><span class="'+m.options.icons.up+'"></span></a>':"")+"</td>"+(m.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><span class="'+m.options.icons.up+'"></span></a></td>':"")+(m.use24hours?"":'<td class="separator"></td>')+"</tr><tr><td>"+J.hourTemplate+'</td> <td class="separator">:</td><td>'+(m.options.useMinutes?J.minuteTemplate:'<span class="timepicker-minute">00</span>')+"</td> "+(m.options.useSeconds?'<td class="separator">:</td><td>'+J.secondTemplate+"</td>":"")+(m.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><span class="'+m.options.icons.down+'"></span></a></td><td class="separator"></td><td>'+(m.options.useMinutes?'<a href="#" class="btn" data-action="decrementMinutes"><span class="'+m.options.icons.down+'"></span></a>':"")+"</td>"+(m.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><span class="'+m.options.icons.down+'"></span></a></td>':"")+(m.use24hours?"":'<td class="separator"></td>')+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(m.options.useSeconds?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':""))};m.destroy=function(){I();H();m.widget.remove();m.element.removeData("DateTimePicker");if(m.component){m.component.removeData("DateTimePicker")}};m.show=function(V){if(m.options.useCurrent){if(y().val()==""){if(m.options.minuteStepping!==1){var U=a(),T=m.options.minuteStepping;U.minutes((Math.round(U.minutes()/T)*T)%60).seconds(0);m.setValue(U.format(m.format))}else{m.setValue(a().format(m.format))}}}m.widget.show();m.height=m.component?m.component.outerHeight():m.element.outerHeight();k();m.element.trigger({type:"dp.show",date:a(m.date)});O();if(V){N(V)}},m.disable=function(){var T=m.element.find("input");if(T.prop("disabled")){return}T.prop("disabled",true);I()},m.enable=function(){var T=m.element.find("input");if(!T.prop("disabled")){return}T.prop("disabled",false);M()},m.hide=function(V){if(V&&d(V.target).is(m.element.attr("id"))){return}var W=m.widget.find(".collapse"),T,U;for(T=0;T<W.length;T++){U=W.eq(T).data("collapse");if(U&&U.date-transitioning){return}}m.widget.hide();m.viewMode=m.startViewMode;g();m.element.trigger({type:"dp.hide",date:a(m.date)});H()},m.setValue=function(T){a.lang(m.options.language);if(!T){m.unset=true;s()}else{m.unset=false}if(!a.isMoment(T)){T=a(T,m.format)}if(T.isValid()){m.date=T;s();m.viewDate=a({y:m.date.year(),M:m.date.month()});o();l()}else{F(T)}},m.getDate=function(){if(m.unset){return null}return m.date},m.setDate=function(T){var U=a(m.date);if(!T){m.setValue(null)}else{m.setValue(T)}q(U,"function")},m.setDisabledDates=function(T){m.options.disabledDates=D(T);if(m.viewDate){A()}},m.setEnabledDates=function(T){m.options.enabledDates=D(T);if(m.viewDate){A()}},m.setMaxDate=function(T){if(T==undefined){return}m.options.maxDate=a(T);if(m.viewDate){A()}},m.setMinDate=function(T){if(T==undefined){return}m.options.minDate=a(T);if(m.viewDate){A()}};L()};d.fn.datetimepicker=function(f){return this.each(function(){var h=d(this),g=h.data("DateTimePicker");if(!g){h.data("DateTimePicker",new b(this,f))}})}}));